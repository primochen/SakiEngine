// 平滑音乐过渡测试脚本
label start
"欢迎来到平滑音乐过渡测试"
"即将开始播放第一首音乐（淡入效果）"

// 第一首音乐 - 应该有淡入效果
play music asa
"正在播放 asa.ogg"
"音乐应该平滑淡入"
"点击继续测试音乐切换"

// 切换到第二首音乐 - 应该有交叉淡入淡出
play music dream
"切换到 dream.ogg"
"前一首音乐应该淡出，新音乐应该淡入"
"这是平滑的音乐过渡效果"

// 切换到第三首音乐
play music sizukanaasa
"切换到 sizukanaasa.ogg"
"再次体验平滑的音乐切换"

// 测试音乐停止的淡出效果
"即将停止音乐"
"音乐应该平滑淡出而不是突然停止"

stop music
"音乐已停止"
"音乐应该已经平滑淡出"

// 测试跳转时的音乐区间控制
menu
"跳转到有音乐的剧情" test_jump_with_music
"跳转到无音乐的剧情" test_jump_without_music
"测试完成" test_complete
endmenu

label test_jump_with_music
play music asa
"跳转后的音乐区间"
"音乐应该平滑开始播放"
"现在从历史记录回退，测试回退时的音乐控制"
return

label test_jump_without_music
"跳转到无音乐区间"
"如果之前有音乐在播放，应该平滑停止"
"这里没有背景音乐"
return

label test_complete
"音乐平滑过渡测试完成"
"所有的音乐切换都应该是平滑的，没有突然的开始或停止"
return