{
    "scopeName": "source.skn",
    "patterns": [
      { "include": "#comment" },
      { "include": "#character_definition" }
    ],
    "repository": {
      "comment": {
        "match": "(//).*$",
        "name": "comment.line.double-slash.skn"
      },
      "character_definition": {
        "patterns": [
          {
            "comment": "Character alias definition: alias : \"display_name\" : internal_name",
            "match": "^\\s*([^:\\s]+)\\s*(:)\\s*(\"[^\"]*\")\\s*(:)\\s*([^/]*)(.*)$",
            "captures": {
              "1": { "name": "entity.name.type.character.skn" },
              "2": { "name": "punctuation.separator.colon.skn" },
              "3": { 
                "name": "string.quoted.double.skn",
                "patterns": [
                  {
                    "match": "\"([^\"]*)\"",
                    "captures": {
                      "1": { "name": "string.quoted.double.skn" }
                    }
                  }
                ]
              },
              "4": { "name": "punctuation.separator.colon.skn" },
              "5": { 
                "name": "variable.parameter.skn",
                "patterns": [
                  {
                    "name": "keyword.control.skn",
                    "match": "\\bat\\b"
                  },
                  {
                    "name": "variable.other.skn", 
                    "match": "\\b\\w+\\b"
                  }
                ]
              },
              "6": { 
                "name": "comment.line.double-slash.skn",
                "match": "//.*$"
              }
            }
          },
          {
            "comment": "Simple character definition: alias : internal_name",
            "match": "^\\s*([^:\\s]+)\\s*(:)\\s*([^/]*)(//.*)?$",
            "captures": {
              "1": { "name": "entity.name.type.character.skn" },
              "2": { "name": "punctuation.separator.colon.skn" },
              "3": { 
                "name": "variable.parameter.skn",
                "patterns": [
                  {
                    "name": "keyword.control.skn",
                    "match": "\\bat\\b"
                  },
                  {
                    "name": "variable.other.skn", 
                    "match": "\\b\\w+\\b"
                  }
                ]
              },
              "4": { "name": "comment.line.double-slash.skn" }
            }
          }
        ]
      }
    }
  } 